<?php
/*
Template Name: Country Tag JSON

 * @author		Sveinbjorn
 * @email		sveinbjornt@gmail.com
 * @web			sveinbjorn.org
 
 * @name		Country Tag JSON
 * @type		PHP page
 * @desc		Wordpress template

 * @requires	Wordpress
 * @install		Copy this file to the directory of the theme you wish to use, i.e. wp-content/themes/theme_name/
 * usage		
			   1. Create a new Page in your Wordpress control panel
			   2. Enter the URL (or local path, relative to your Wordpress directory) you want to redirect to as the only page content
			   3. Set the Page Template to "Greinasafn"
			   4. Publish
 */

$array = array(
'AQ' => 'sudurskautslandid',
'CA' => 'kanada',
'US' => 'bandarikin',
'PA' => 'panama',
'CR' => 'kostarika',
'NI' => 'nikaragva',
'HN' => 'honduras',
'SV' => 'el-salvador',
'BZ' => 'belis',
'GT' => 'gvatemala',
'MX' => 'mexiko',
'HT' => 'haiti',
'DO' => 'dominiska-lydveldid',
'PR' => 'puerto-riko',
'JM' => 'jamaika',
'CU' => 'kuba',
'SR' => 'surinam',
'GF' => 'franska-gvaejana',
'GY' => 'gvaejana',
'TT' => 'trinidad-og-tobago',
'VE' => 'venesuela',
'CO' => 'kolumbia',
'EC' => 'ekvador',
'PE' => 'peru',
'BO' => 'bolivia',
'CL' => 'sile',
'PY' => 'paragvae',
'UY' => 'urugvae',
'AR' => 'argentina',
'BR' => 'brasilia',
'GL' => 'graenland',
'RU' => 'russland,sovetrikin',
'CY' => 'kypur',
'ME' => 'svartfjallaland',
'AL' => 'albania',
'MK' => 'makedonia',
'GR' => 'grikkland',
'BG' => 'bulgaria',
'BA' => 'bosnia-og-hersegovina',
'RS' => 'serbia',
'HR' => 'kroatia',
'EE' => 'eistland',
'LV' => 'lettland',
'LT' => 'lithaen',
'RO' => 'rumenia',
'MD' => 'moldova',
'UA' => 'ukraina',
'BY' => 'hvita-russland',
'HU' => 'ungverjaland',
'SK' => 'slovakia',
'SI' => 'slovenia',
'CZ' => 'tekkland',
'CH' => 'sviss',
'AT' => 'austurriki',
'IT' => 'italia',
'PT' => 'portugal',
'ES' => 'spann',
'FR' => 'frakkland',
'LU' => 'luxemborg',
'BE' => 'belgia',
'NL' => 'holland',
'PL' => 'polland',
'IE' => 'irland',
'GB' => 'bretland',
'DK' => 'danmork',
'IS' => 'island',
'NO' => 'noregur',
'DE' => 'thyskaland,austur-thyskaland',
'FI' => 'finnland',
'SE' => 'svithjod',
'GM' => 'gambia',
'GW' => 'ginea-bissa',
'GN' => 'ginea',
'SL' => 'sierra-leone',
'LR' => 'liberia',
'CI' => 'filabeinsstrondin',
'BF' => 'burkina-faso',
'GH' => 'gana',
'TG' => 'togo',
'BJ' => 'benin',
'NG' => 'nigeria',
'GQ' => 'midbaugs-ginea',
'GA' => 'gabon',
'CF' => 'mid-afrikulydveldid',
'CM' => 'kamerun',
'CG' => 'kongo-brazzaville',
'CD' => 'kongo',
'UG' => 'uganda',
'RW' => 'ruanda',
'BI' => 'burundi',
'AO' => 'angola',
'ZM' => 'sambia',
'MW' => 'malavi',
'NA' => 'namibia',
'BW' => 'botsvana',
'ZW' => 'zimbabwe',
'SZ' => 'svasiland',
'KE' => 'kenia',
'TZ' => 'tansania',
'MZ' => 'mosambik',
'LS' => 'lesoto',
'ZA' => 'sudur-afrika',
'EH' => 'vestur-sahara',
'MR' => 'maritania',
'SN' => 'senegal',
'ML' => 'mali',
'NE' => 'niger',
'TD' => 'tsjad',
'MG' => 'madagaskar',
'DJ' => 'djibuti',
'ER' => 'eritrea',
'SO' => 'somalia',
'ET' => 'ethiopia',
'SD' => 'sudan',
'SS' => 'sudur-sudan',
'EG' => 'egyptaland',
'LY' => 'libya',
'TN' => 'tunis',
'MA' => 'marokko',
'DZ' => 'alsir',
'TJ' => 'tadsjikistan',
'TM' => 'turkmenistan',
'AF' => 'afganistan',
'PK' => 'pakistan',
'GE' => 'georgia',
'AZ' => 'aserbaidsjan',
'AM' => 'armenia',
'IR' => 'iran',
'TR' => 'tyrkland,ottoman-veldid',
'JO' => 'jordania',
'IL' => 'israel',
'LB' => 'libanon',
'SY' => 'syrland',
'IQ' => 'irak',
'KW' => 'kuveit',
'QA' => 'katar',
'AE' => 'sameinudu-arabisku-furstadaemin',
'OM' => 'oman',
'YE' => 'jemen',
'SA' => 'sadi-arabia',
'PG' => 'papua-nyja-ginea',
'NZ' => 'nyja-sjaland',
'AU' => 'astralia',
'KG' => 'kirgisistan',
'UZ' => 'usbekistan',
'KZ' => 'kasakstan',
'MN' => 'mongolia',
'BN' => 'brunei',
'TW' => 'taivan',
'PH' => 'filippseyjar',
'ID' => 'indonesia',
'MY' => 'malasia',
'TH' => 'tailand',
'KH' => 'kambodia',
'LA' => 'laos',
'VN' => 'vietnam',
'MM' => 'burma',
'LK' => 'sri-lanka',
'BD' => 'bangladess',
'BT' => 'butan',
'NP' => 'nepal',
'KR' => 'sudur-korea',
'KP' => 'nordur-korea',
'JP' => 'japan',
'CN' => 'kina',
'IN' => 'indland',
'PS' => 'palestina',
'FJ' => 'fijieyjar',
'FK' => 'falklandseyjar',
'SB' => 'solomon-eyjar',
'TL' => 'austur-timor',
'BS' => 'bahamaeyjar',
'VU' => 'vanuatu',
'NC' => 'nyja-kaledonia',
'_3' => 'somaliland',
'_2' => 'vestur-sahara',
'_1' => 'kosovo',
'_0' => 'nordur-kypur');

header('Content-type: application/json');
echo "var countryTagData = {\n";

foreach ($array as $key => $value) {
    
    $tags = split(',', $value);
    $count = 0;
    
    foreach ($tags as $t) {
        $term = get_term_by('slug', $t, 'post_tag');
        
        if ($term->count and $term->count != '0') {
            $count += $term->count;
            
        }
    }
        
    if ($term->count or $term->count == '0') {
        echo "'$key'" . ": " . $count . ",\n";
    }
}

echo "};\n";

?>